本博客是针对《鸟叔的Linux私房菜 基础学习篇 第四版》的第0章 计算机概论的学习笔记。


[toc]

# 0.1 电脑：辅助人脑的好工具

现在人们无时无刻都在使用电脑，不管是桌面电脑（台式机）、笔记本电脑（笔记本）、平板电脑（ipad）还是智能手机等等，这些都是电脑。

电脑本质就是一种计算机，而计算机的定义是：

  接受使用者输入指令与数据，经由中央处理器的数学与逻辑单元运算处理后，以产生或储存成有用的信息。

因此，只要有输入设备（无论是键盘还是触摸屏）及输出设备（例如电脑屏幕或直接由打印机打印出来），让你可以输入数据并使该机器产生信息的，那就可以算作一部计算机。

那么计算机主要的组成元件是什么呢？下面我们以常见的个人电脑主机或服务器工作站主机来作为说明。

## 0.1.1 计算机硬件的五大单元

从外观上来看，电脑的硬件可分为三部分：

- 输入单元：包括键盘、鼠标、读卡器、扫描仪、手写板、触摸屏等等；
- 主机部分：这个就是系统单元，被主机机箱保护住了，里面含有一堆板子、与内存等；
- 输出单元：例如屏幕、打印机等等

我们主要通过输入设备如鼠标与键盘来将一些数据输入到主机里面，然后再由主机的功能处理成为图表或文章等信息后， 将结果传输到输出设备，如屏幕或打印机上面。

那主机里面含有什么元件呢？如果你曾经拆开过电脑主机机箱 （包括拆开你的智能手机也一样喔！），会发现其实主机里面最重要的就是一块主板，上面安插了中央处理器（CPU）以及内存、硬盘（或记忆卡）还有一些适配卡设备而已。 当然大部分智能手机是将这些元件直接焊接在主板上面而不是插卡啦！

整部主机的重点在于中央处理器 （Central Processing Unit, CPU），CPU 为一个具有特定功能的芯片， 里头含有微指令集，如果你想要让主机进行什么特异的功能，就得要参考这颗CPU是否有相关内置的微指令集才可以。 由于 CPU 的工作主要在于管理与运算，因此在CPU内又可分为两个主要的单元，分别是：算数逻辑单元与控制单元。其中算数逻辑单元主要负责程序运算与逻辑判断，控制单元则主要在协调各周边元件与各单元间的工作。

既然 CPU 的重点是在进行运算与判断，那么要被运算与判断的数据是从哪里来的？CPU读取的数据都是从**内存**来的！ 内存内的数据则是从输入单元所传输进来！而CPU处理完毕的数据也必须要先写回内存中，最后数据才从内存传输到输出单元。

所以为什么会说，要加快系统性能，通常将内存容量加大就可以获得相当好的成效？如同下图以及上面的说明，因为所有的数据都要经过内存的传输，所以内存的容量如果太小，数据高速缓存就不足~影响性能相当大！尤其针对Linux作为服务器的环境下！

综合上面所说，我们会知道其实电脑是由几个单元所组成的，包括输入单元、输出单元、CPU内部的控制单元、算数逻辑单元与内存五大部分。 这几个东西的相关性如下所示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/1.png)

上面图示中的“系统单元”其实指的就是电脑机箱内的主要元件，而重点在于CPU与内存。特别要看的是实线部分的传输方向，基本上数据都是流经过内存再转出去的！ 至于数据会流进/流出内存则是CPU所发布的控制命令！而CPU实际要处理的数据则完全来自于内存（不管是程序还是一般文件数据）！这是个很重要的概念喔！ 这也是为什么当你的内存不足时，系统的性能就很糟糕！也是为什么现在人们买智能手机时，对于可用内存的要求都很高的原因！

## 0.1.2 一切设计的起点：CPU的架构

如前面说过的，CPU其实内部已经含有一些微指令，我们所使用的软件都要经过CPU内部的微指令集来达成才行。 那这些指令集的设计主要又被分为两种设计理念，这就是目前世界上常见到的两种主要CPU架构，分别是：精简指令集 （RISC） 与复杂指令集（CISC）系统。下面我们就来谈谈这两种不同CPU架构的差异啰！


- 精简指令集（Reduced Instruction Set Computer, RISC）：

这种 CPU的设计中，微指令集较为精简，每个指令的执行时间都很短，完成的动作也很单纯，指令的执行性能较佳； 但是若要做复杂的事情，就要由多个指令来完成。常见的 RISC微指令集 CPU 主要例如甲骨文 （Oracle） 公司的 SPARC 系列、 IBM 公司的 Power Architecture（包括PowerPC）系列、与安谋公司 （ARM Holdings） 的 ARM CPU 系列等。

在应用方面，SPARC CPU的电脑常用于学术领域的大型工作站中，包括银行金融体系的主要服务器也都有这类的电脑架构；至于PowerPC架构的应用上，例如索尼（Sony）公司出产的Play Station 3（PS3）就是使用PowerPC架构的Cell处理器； 那安谋的 ARM 呢？你常使用的各厂牌手机、PDA、导航系统、网络设备（交换器、路由器等）等，几乎都是使用 ARM 架构的 CPU 喔！ 老实说，目前世界上使用范围最广的 CPU 可能就是 ARM 这种架构的呢！

- 复杂指令集（Complex Instruction Set Computer, CISC）：

与RISC不同的，CISC在微指令集的每个小指令可以执行一些较低阶的硬件操作，指令数目多而且复杂， 每条指令的长度并不相同。因为指令执行较为复杂所以每条指令花费的时间较长，但每条个别指令可以处理的工作较为丰富。常见的CISC微指令集CPU主要有AMD、Intel、VIA等的x86架构的CPU。

由于AMD、Intel、VIA所开发出来的x86架构CPU被大量使用于个人电脑（Personal computer）用途上面， 因此，个人电脑常被称为x86架构的电脑！那为何称为x86架构[8]呢？这是因为最早的那颗Intel发展出来的CPU代号称为8086，后来依此架构又开发出80286,80386...，因此这种架构的CPU就被称为x86架构了。

在2003年以前由Intel所开发的x86架构CPU由8位升级到16、32位，后来AMD依此架构修改新一代的CPU为64位， 为了区别两者的差异，因此64位的个人电脑CPU又被统称为x86_64的架构喔！

>知识点：x86架构CPU被大量用于个人电脑上。而x86名字所指的是Intel最早推出的8086代号的芯片(8位)，后来随着位数不断升级，有了16、32、64位的电脑，而为了区别出64位的架构，64位的个人电脑CPU又被统称为x86_64的架构。（不用再为下载软件时看不懂适配的cpu架构问题而烦恼了）

- Tips:

Tips 所谓的位指的是CPU一次数据读取的最大量！64位CPU代表CPU一次可以读写64bits这么多的数据，32位CPU则是CPU一次只能读取32位的意思。 因为CPU读取数据量有限制，因此能够从内存中读写的数据也就有所限制。所以，一般32位的CPU所能读写的最大数据量，大概就是4GB左右。

那么不同的x86架构的CPU有什么差异呢？除了CPU的整体结构（如第二层高速缓存、每次运行可执行的指令数等）之外， 主要是在于微指令集的不同。新的x86的CPU大多含有很先进的微指令集，这些微指令集可以加速多媒体程序的运行，也能够加强虚拟化的性能，而且某些微指令集更能够增加能源效率， 让CPU耗电量降低呢！由于电费越来越高，购买电脑时，除了整体的性能之外，节能省电的CPU特色也可以考虑喔！

## 其它单元的设备

五大单元中最重要的控制、算术逻辑被整合到 CPU 的封装中，但系统当然不可能只有 CPU
啊！那其他三个重要电脑单元的设备还有哪些呢？ 其实在主机机箱内的设备大多是通过主板
（main board） 连接在一块，主板上面有个链接沟通所有设备的芯片组，这个芯片组可以将
所有单元的设备链接起来， 好让 CPU 可以对这些设备下达命令。其他单元的重要设备主要
有：

- 系统单元：如图 0.1.2 所示，系统单元包括 CPU 与内存及主板相关元件。而主板上头其
实还有很多的连接接口与相关的适配卡，包括鸟哥近期常使用的 PCI-E 10G 网卡、 磁盘
阵列卡、还有显卡等等。尤其是显卡，这东西对于玩3D游戏来说是非常重要的一环，他
与显示的精致度、色彩与分辨率都有关系。
- 存储单元：包括内存 （main memory, RAM） 与辅助内存，其中辅助内存其实就是大家
常听到的“储存设备”啰！包括硬盘、软盘、光盘、磁带等等的。
- 输入、输出单元：同时涵盖输入输出的设备最常见的大概就是触摸屏了。至于单纯的输
入设备包括前面提到的键盘鼠标之外，目前的体感设备也是重要的输入设备喔！ 至于输
出设备方面，除了屏幕外，打印机、音效喇叭、HDMI电视、投影机、蓝牙耳机等等，都
算喔！

更详细的各项主机与周边设备我们将在下个小节进行介绍！在这里我们先来了解一下各元件
的关系啰！那就是，电脑是如何运行的呢？

## 运行流程

如果不是很了解电脑的运行流程的话，鸟哥拿个简单的想法来思考好了～假设电脑是一个人体，那么每个元件对应到那个地方呢？可以这样思考：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/2.png)

> 这样看，计算机是不是可以说与人类非常相似呢？那么强人工智能是不是也是非常可能的呢prprpr...

- CPU=脑袋瓜子：每个人会作的事情都不一样（微指令集的差异），但主要都是通过脑袋瓜子来进行判断与控制身体各部分的活动；

- 内存=脑袋中放置正在被思考的数据的区块：在实际活动过程中，我们的脑袋瓜子需要有外界刺激的数据 （例如光线、环境、语言等）来分析，那这些互动数据暂时存放的地方就是内存，主要是用来提供给脑袋瓜子判断用的信息。

- 硬盘=脑袋中放置回忆的记忆区块：跟刚刚的内存不同，内存是提供脑袋目前要思考与处理的信息，但是有些生活琐事或其他没有要立刻处理的事情， 就当成回忆先放置到脑袋的记忆深处吧！那就是硬盘！主要目的是将重要的数据记录起来，以便未来将这些重要的经验再次的使用；

- 主板=神经系统：好像人类的神经一样，将所有重要的元件连接起来，包括手脚的活动都是脑袋瓜子发布命令后， 通过神经（主板）传导给手脚来进行活动啊！各项周边设备=人体与外界沟通的手、脚、皮肤、眼睛等：就好像手脚一般，是人体与外界互动的重要关键！

- 显卡=脑袋中的影像：将来自眼睛的刺激转成影像后在脑袋中呈现，所以显卡所产生的数据来源也是CPU控制的。

- 电源供应器 （Power）=心脏：所有的元件要能运行得要有足够的电力供给才行！这电力供给就好像心脏一样，如果心脏不够力，那么全身也就无法动弹的！心脏不稳定呢？那你的身体当然可能断断续续的～不稳定！

由这样的关系图当中，我们知道整个活动中最重要的就是脑袋瓜子！ 而脑袋瓜子当中与现在正在进行的工作有关的就是CPU与内存！任何外界的接触都必须要由脑袋瓜子中的内存记录下来，然后给脑袋中的CPU依据这些数据进行判断后，再发布命令给各个周边设备！如果需要用到过去的经验，就得由过去的经验（硬盘）当中读取啰！

也就是说，整个人体最重要的地方就是脑袋瓜子，同样的，整部主机当中最重要的就是CPU与内存， 而CPU的数据来源通通来自于内存，如果要由过去的经验来判断事情时， 也要将经验（硬盘）挪到目前的记忆（内存）当中，再交由CPU来判断喔！这点得要再次的强调啊！下个章节当中，我们就对目前常见的个人电脑各个元件来进行说明啰！

## 电脑按用途分类

知道了电脑的基本组成与周边设备，也知道其实电脑的CPU种类非常的多，再来我们想要了解的是，电脑如何分类？电脑的分类非常多种，如果以电脑的复杂度与运算能力进行分类的话，主要可以分为这几类：

- 超级计算机（Supercomputer） 超级计算机是运行速度最快的电脑，但是他的维护、操作费用也最高！主要是用于需要有高速计算的计划中。例如：国防军事、气象预测、太空科技，用在仿真的领域较多。详情也可以参考： 国家高速网络与计算中心
http://www.nchc.org.tw的介绍！ 至于全世界最快速的前500大超级计算机，则请参考：http://www.top500.org。

- 大型计算机（Mainframe Computer） 大型计算机通常也具有数个高速的CPU，功能上虽
不及超级计算机，但也可用来处理大量数据与复杂的运算。 例如大型企业的主机、全国
性的证券交易所等每天需要处理数百万笔数据的企业机构， 或者是大型企业的数据库服
务器等等。

- 迷你电脑（Minicomputer） 迷你电脑仍保有大型计算机同时支持多使用者的特性，但是
主机可以放在一般作业场所， 不必像前两个大型计算机需要特殊的空调场所。通常用来
作为科学研究、工程分析与工厂的流程管理等。

- 工作站（Workstation） 工作站的价格又比迷你电脑便宜许多，是针对特殊用途而设计的
电脑。在个人电脑的性能还没有提升到目前的状况之前， 工作站电脑的性能/价格比是所
有电脑当中较佳的，因此在学术研究与工程分析方面相当常见。

- 微电脑（Microcomputer） 个人电脑就属于这部份的电脑分类，也是我们本章主要探讨的
目标！体积最小，价格最低，但功能还是五脏俱全的！ 大致又可分为桌上型、笔记型等
等。

若光以性能来说，目前的个人电脑性能已经够快了，甚至已经比工作站等级以上的电脑运算
速度还要快！ 但是工作站电脑强调的是稳定不死机，并且运算过程要完全正确，因此工作站
以上等级的电脑在设计时的考虑与个人电脑并不相同啦！ 这也是为啥工作站等级以上的电脑
售价较贵的原因。

>知识点：常用的个人电脑时属于“微电脑”的类型哟，因为相对于它的兄弟姐妹的体型来看，它确实可以称得上“微小”了。

## 电脑上面常用的计算单位（容量、速度等）

电脑的运算能力除了 CPU 微指令集设计的优劣之外，但主要还是由速度来决定的。至于存放
在电脑储存设备当中的数据容量也是有单位的。

- 容量单位

电脑对数据的判断主要依据有没有通电来记录信息，所以理论上对于每一个纪录单位而言，
它只认识 0 与 1 而已。0/1 这个二进制的的单位我们称为 bit。 但 bit 实在太小了，所以在储
存数据时每份简单的数据都会使用到 8 个 bits 的大小来记录，因此定义出 Byte 这个单位，他
们的关系为：

> 1 Byte = 8 bits
 
不过同样的，Byte 还是太小了，在较大的容量情况下，使用 Byte 相当不容易判断数据的大
小，举例来说，1000000 Bytes 这样的显示方式你能够看得出有几个零吗？所以后来就有一
些常见的简化单位表达式，例如 K 代表 1024Byte，M 代表 1024K 等。 而这些单位在不同的
进位制下有不同的数值表示，下面就列出常见的单位与进位制对应：

|||||||
|-|-|-|-|-|-|
|进位制Kilo |Mega |Giga |Tera |Peta |Exa |Zetta|
|二进制1024| 1024K| 1024M |1024G| 1024T| 1024P| 1024E|
|十进制1000 |1000K |1000M |1000G |1000T |1000P| 1000E|

一般来说，文件大小使用的是二进制的方式，所以 1GBytes 的文件大小实际上为：
1024x1024x1024Bytes 这么大！ 速度单位则常使用十进制，例如 1GHz 就是
1000x1000x1000Hz 的意思。

- Tips

CPU的运算速度常使用 MHz 或者是 GHz 之类的单位，这个 Hz 其实就是秒分之一。而在网
络传输方面，由于网络使用的是 bit 为单位，因此网络常使用的单位为 Mbps 是 Mbits per
second，亦即是每秒多少 Mbit。举例来说，大家常听到的 20M/5M 光世代传输速度，如果转
成文件大小的 Byte 时，其实理论最大传输值为：每秒 2.5MByte/ 每秒625KByte的下载/上传
速度喔！

例题：假设你今天购买了500GB的硬盘一颗，但是格式化完毕后却只剩下460GB左右的容
量，这是什么原因？答：因为一般硬盘制造商会使用十进制的单位，所以500GByte代表为
500*1000*1000*1000Byte之意。 转成文件的容量单位时使用二进制（1024为底），所以就成
为466GB左右的容量了。

硬盘厂商并非要骗人，只是因为硬盘的最小物理量为512Bytes，最小的组成单位为扇区
（sector）， 通常硬盘容量的计算采用“多少个sector”，所以才会使用十进制来处理的。相关
的硬盘信息在这一章后面会提到的！

> 所以以后，大家再看到什么宽带的网速多少字节，记得先除以8（默认以bit为单位嘛）；买硬盘看容量时，记得也先乘以(1000/1024)的三次方(默认是十进制嘛）prprpr...

# 0.2 个人电脑架构与相关设备元件

一般消费者常说的电脑通常指的就是x86的个人电脑架构，因此我们有必要来了解一下这个架
构的各个元件。事实上，Linux最早在发展的时候，就是依据个人电脑的架构来发展的， 所以
真的得要了解一下呢！另外，早期两大主流x86开发商（Intel, AMD）的CPU架构与设计理念
都有些许差异。不过互相学习对方长处的结果，就是两者间的架构已经比较类似了。 由于目
前市场占有率还是以 Intel 为大宗，因此下面以目前（2015）相对较新的 Intel 主板架构来谈
谈：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/3.png)

由于主板是链接各元件的一个重要项目，因此在主板上面沟通各部元件的芯片组设计优劣，
就会影响性能不少喔！早期的芯片组通常分为两个桥接器来控制各元件的沟通， 分别是：
（1）北桥：负责链接速度较快的CPU、内存与显卡接口等元件；（2）南桥：负责连接速度
较慢的设备接口， 包括硬盘、USB、网卡等等。（芯片组的南北桥与三国的大小乔没有关系
@_@）。不过由于北桥最重要的就是 CPU 与内存之间的桥接，因此目前的主流架构中， 大
多将北桥内存控制器整合到 CPU 封装当中了。所以上图你只会看到 CPU 而没有看到以往的
北桥芯片喔！

## 0.2.1 执行脑袋运算与判断的 CPU

如同华硕主板示意图上半部的中央部分，那就是CPU插槽。 由于CPU负责大量运算，因此
CPU通常是具有相当**高发热量**的元件。所以如果你曾经拆开过主板， 应该就会看到CPU上头
通常会安插一颗风扇来主动散热的。

> 树莓派主板也有

x86个人电脑的CPU主要供应商为Intel与AMD，目前（2015）主流的CPU都是双核以上的架
构了！ 原本的单核心CPU仅有一个运算单元，所谓的多核心则是在一颗CPU封装当中嵌入了
两个以上的运算核心， 简单的说，就是一个实体的CPU外壳中，含有两个以上的CPU单元就
是了。

> 注意，多核只是在同一个cpu外壳中封装了多个运算核心，而不是多个整体的cpu。

不同的CPU型号大多具有不同的脚位（CPU上面的插脚），能够搭配的主板芯片组也不同，
所以当你想要将你的主机升级时，不能只考虑CPU，你还得要留意你的主板上面所支持的
CPU型号喔！ 不然买了最新的CPU也不能够安插在你的旧主板上头的！目前主流的CPU有
Intel的 i3/i5/i7 系列产品中，甚至先后期出厂的类似型号的脚位也不同， 例如 i7-2600 使用
LGA1155 脚位而 i7-4790 则使用 FCLGA1150 脚位，挑选时必须要很小心喔！

我们前面谈到CPU内部含有微指令集，不同的微指令集会导致CPU工作效率的优劣。除了这
点之外， CPU性能的比较还有什么呢？那就是**CPU的频率**了！什么是频率呢？**简单的说， 频
率就是CPU每秒钟可以进行的工作次数**。 所以频率越高表示这颗CPU单位时间内可以作更多
的事情。举例来说，Intel的 i7-4790 CPU频率为3.6GHz， 表示这颗CPU在一秒内可以进行
3.6x1$0^9$次工作，每次工作都可以进行少数的指令运行之意。

- Tips

注意，不同的CPU之间不能单纯的以频率来判断运算性能喔！这是因为每颗CPU的微指
令集不相同，架构也不见得一样，可使用的第二层高速缓存及其计算机制可能也不同， 加上
每次频率能够进行的工作指令数也不同！所以，频率目前仅能用来比较同款CPU的速度！

> 所以只比频率是比较耍流氓的行为。

- 32位与64位的CPU与总线“宽度”

从前面的简易说明中，我们知道 CPU 的各项数据通通得要来自于内存。因此，如果内存能提
供给 CPU 的数据量越大的话，当然整体系统的性能应该也会比较快！ 那如何知道内存能提
供的数据量呢？此时还是得要借由 CPU 内的内存控制芯片与内存间的传输速度“前端总线速
度（Front Side Bus, FSB） 来说明。

与 CPU 的频率类似的，内存也是有其工作的频率，这个频率限制还是来自于 CPU 内的内存
控制器所决定的。以图0.2.1 为例， CPU 内置的内存控制芯片对内存的工作频率最高可达到
1600MHz。这只是工作频率（每秒几次）。一般来说，每次频率能够传输的数据量，大多为
64 位，这个 64 位就是所谓的“宽度”了！ 因此，在图0.2.1 这个系统中，CPU可以从内存中取
得的最快带宽就是 1600MHz 64bit = 1600MHz 8 Bytes = 12.8GByte/s。

与总线宽度相似的，CPU每次能够处理的数据量称为字组大小（word size）， 字组大小依据
CPU的设计而有32位与64位。我们现在所称的电脑是32或64位主要是依据这个 CPU解析的
字组大小而来的！早期的32位CPU中，因为CPU每次能够解析的数据量有限， 因此由内存传
来的数据量就有所限制了。**这也导致32位的CPU最多只能支持最大到4GBytes的内存**。

> 终于解决了为什么没看过32位系统搭载8G内存的电脑配置的疑惑了...

- 超线程 （Hyper-Threading, HT）

我们知道现在的 CPU 至少都是两个核心以上的多核心 CPU 了，但是 Intel 还有个很怪的东
西，叫做 CPU 的超线程 （Hyper-Threading） 功能！ 那个是啥鬼东西？我们知道现在的
CPU 运算速度都太快了，因此运算核心经常处于闲置状态下。而我们也知道现在的系统大多
都是多任务的系统， 同时间有很多的程序会让 CPU 来执行。因此，若 CPU 可以假象的同时
执行两个程序，不就可以让系统性能增加了吗？反正 CPU 的运算能力还是没有用完啊！

那是怎么达成的啊这个 HT 功能？强者鸟哥的同事蔡董大大用个简单的说明来解释。在每一个
CPU 内部将重要的寄存器 （register） 分成两群， 而让程序分别使用这两群寄存器。也就是
说，可以有两个程序“同时竞争 CPU 的运算单元”，而非通过操作系统的多任务切换！ 这一过
程就会让 CPU 好像“同时有两个核心”的模样！因此，虽然大部分 i7 等级的 CPU 其实只有四
个实体核心，但通过 HT 的机制， 则操作系统可以抓到八个核心！并且让每个核心逻辑上分
离，就可以同时运行八个程序了。

虽然很多研究与测试中，大多发现 HT 虽然可以提升性能，不过，有些情况下却可能导致性能
降低喔！因为，实际上明明就仅有一个运算单元嘛！ 不过在鸟哥使用数值模式的情况下，因
为鸟哥操作的数值模式主要为平行运算功能，且运算通常无法达到 100% 的 CPU 使用率，通
常仅有大约60%运算量而已。 因此在鸟哥的实作过程中，这个 HT 确实提升相当多的性能！
至少应该可以节省鸟哥大约30%~50%的等待时间喔！不过网络上大家的研究中， 大多说这个
是 case by case，而且使用的软件影响很大！所以，在鸟哥的例子是启用 HT 帮助很大！您
的案例就得要自行研究啰！

## 0.2.2  内存

前面提到CPU所使用的数据都是来自于内存（main memory），不论是软件程序还是数据，
都必须要读入内存后CPU才能利用。 个人电脑的内存主要元件为动态随机存取内存
（Dynamic Random Access Memory, DRAM）， 随机存取内存只有在通电时才能记录与使
用，断电后数据就消失了。因此我们也称这种RAM为挥发性内存。

DRAM根据技术的更新又分好几代，而使用上较广泛的有所谓的SDRAM与DDR SDRAM两
种。 这两种内存的差别除了在于脚位与工作电压上的不同之外，DDR是所谓的双倍数据传送
速度（Double Data Rate），他可以在一次工作周期中进行两次数据的传送，感觉上就好像是CPU的倍频啦！ 所以传输频率方面比SDRAM还要好。新一代的PC大多使用DDR内存了。下表列出SDRAM与DDR SDRAM的型号与频率及带宽之间的关系。

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/4.png)

DDR SDRAM又依据技术的发展，有DDR, DDR2, DDR3, DDR4等等，其中，DDR2 的频率
倍数则是 4 倍而DDR3 则是 8 倍喔！ 目前鸟哥用到服务器等级的内存，已经到 DDR4 了耶！
超快超快！

- DRAM与SRAM

除了内存条之外，事实上整部个人电脑当中还有许许多多的内存存在喔！最为我们所知的就
是CPU内的第二层高速缓存内存。 我们现在知道CPU的数据都是由内存提供，但CPU到内存
之间还是得要通过内存控制器啊！ 如果某些很常用的程序或数据可以放置到CPU内部的话，
那么CPU数据的读取就不需要跑到内存重新读取了！ 这对于性能来说不就可以大大的提升
了？这就是第二层高速缓存的设计概念。第二层高速缓存与内存及CPU的关系如下图所示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/5.png)

因为第二层高速缓存（L2 cache）整合到CPU内部，因此这个L2内存的速度必须要CPU频率
相同。 使用DRAM是无法达到这个频率速度的，此时就需要静态随机存取内存（Static
Random Access Memory, SRAM）的帮忙了。 SRAM在设计上使用的电晶体数量较多，价格
较高，且不易做成大容量，不过由于其速度快， 因此整合到CPU内成为高速缓存内存以加快
数据的存取是个不错的方式喔！新一代的CPU都有内置容量不等的L2高速缓存在CPU内部，
以加快CPU的运行性能。

- 只读存储器(ROM)

主板上面的元件是非常多的，而每个元件的参数又具有可调整性。举例来说，CPU与内存的
频率是可调整的； 而主板上面如果有内置的网卡或者是显卡时，该功能是否要启动与该功能
的各项参数，是被记录到主板上头的一个称为CMOS的芯片上，这个芯片需要借着额外的电源来发挥记录功能， 这也是为什么你的主板上面会有一颗电池的缘故。

那CMOS内的数据如何读取与更新呢？还记得你的电脑在开机的时候可以按下[Del]按键来进
入一个名为BIOS的画面吧？ BIOS（Basic Input Output System）是一套程序，这套程序是写
死到主板上面的一个内存芯片中， 这个内存芯片在没有通电时也能够将数据记录下来，那就
是只读存储器（Read Only Memory, ROM）。 ROM是一种非挥发性的内存。另外，BIOS对
于个人电脑来说是非常重要的， 因为他是系统在开机的时候首先会去读取的一个小程序喔！

另外，固件（firmware）很多也是使用ROM来进行软件的写入的。 固件像软件一样也是
一个被电脑所执行的程序，然而他是对于硬件内部而言更加重要的部分。例如BIOS就是一个
固件， BIOS虽然对于我们日常操作电脑系统没有什么太大的关系，但是他却控制着开机时各
项硬件参数的取得！ 所以我们会知道很多的硬件上头都会有ROM来写入固件这个软件。
BIOS 对电脑系统来讲是非常重要的，因为他掌握了系统硬件的详细信息与开机设备的选择等
等。但是电脑发展的速度太快了， 因此 BIOS 程序码也可能需要作适度的修改才行，所以你
才会在很多主板官网找到 BIOS 的更新程序啊！但是 BIOS 原本使用的是无法改写的 ROM ，
因此根本无法修正 BIOS 程序码！为此，现在的 BIOS 通常是写入类似闪存 （flash） 或
EEPROM 中。

## 0.2.3 显卡

显卡又称为VGA（Video Graphics Array），他对于图形影像的显示扮演相当关键的角色。 一
般对于图形影像的显示重点在于分辨率与色彩深度，因为每个图像显示的颜色会占用掉内
存， 因此显卡上面会有一个内存的容量，这个显存容量将会影响到你的屏幕分辨率与色彩深
度的喔！

除了显存之外，现在由于三度空间游戏（3D game）与一些3D动画的流行，因此显卡的“运算
能力”越来越重要。 一些3D的运算早期是交给CPU去运行的，但是CPU并非完全针对这些3D
来进行设计的，而且CPU平时已经非常忙碌了呢！ 所以后来显卡厂商直接在显卡上面嵌入一
个3D加速的芯片，这就是所谓的GPU称谓的由来。

如果你的主机是用来打3D游戏的，那么显卡的选购是非常重要喔！如果你的主机是用来做为
网络服务器的， 那么简单的入门级显卡对你的主机来说就非常够用了！因为网络服务器很少
用到3D与图形影像功能。

例题：假设你的桌面使用1024x768分辨率，且使用全彩（每个像素占用3Bytes的容量），请
问你的显卡至少需要多少内存才能使用这样的彩度？答：因为1024x768分辨率中会有786432
个像素，每个像素占用3Bytes，所以总共需要2.25MBytes以上才行！ 但如果考虑屏幕的更新
率（每秒钟屏幕的更新次数），显卡的内存还是越大越好！

## 0.2.4 硬盘与存储设备

电脑总是需要记录与读取数据的，而这些数据当然不可能每次都由使用者经过键盘来打字！
所以就需要有储存设备咯。 电脑系统上面的储存设备包括有：硬盘、软盘、MO、CD、
DVD、磁带机、U盘（闪存）、还有新一代的蓝光光驱等， 乃至于大型机器的区域网络储存
设备（SAN, NAS）等等，都是可以用来储存数据的。而其中最常见的应该就是硬盘了吧！

- 硬盘的物理组成

大家应该都看过硬盘吧！硬盘依据台式机与笔记本电脑而有分为3.5英寸及2.5英寸的大小。我
们以3.5英寸的台式机使用硬盘来说明。 在硬盘盒里面其实是由许许多多的圆形盘片、机械手
臂、 磁头与主轴马达所组成的，整个内部如同下图所示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/6.png)

实际的数据都是写在具有磁性物质的盘片上头，而读写主要是通过在机械手臂上的磁头
（head）来达成。 实际运行时， 主轴马达让盘片转动，然后机械手臂可伸展让磁头在盘片上
头进行读写的动作。 另外，由于单一盘片的容量有限，因此有的硬盘内部会有两个以上的盘
片喔！

- 盘片上的数据

既然数据都是写入盘片上头，那么盘片上头的数据又是如何写入的呢？其实盘片上头的数据
有点像下面的图示所示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/7.png)

由于盘片是圆的，并且通过机器手臂去读写数据，盘片要转动才能够让机器手臂读写。因
此，通常数据写入当然就是以圆圈转圈的方式读写啰！ 所以，当初设计就是在类似盘片同心
圆上面切出一个一个的小区块，这些小区块整合成一个圆形，让机器手臂上的磁头去存取。
这个小区块就是磁盘的最小物理储存单位，称之为扇区 （sector），那同一个同心圆的扇区
组合成的圆就是所谓的磁道（track）。 由于磁盘里面可能会有多个盘片，因此在所有盘片上
面的同一个磁道可以组合成所谓的柱面 （cylinder）。

我们知道同心圆外圈的圆比较大，占用的面积比内圈多啊！所以，为了善用这些空间，因此
外围的圆会具有更多的扇区[16]！ 就如同图 0.2.5 的示意一般。此外，当盘片转一圈时，外圈
的扇区数量比较多，因此如果数据写入在外圈，转一圈能够读写的数据量当然比内圈还要
多！ 因此通常数据的读写会由外圈开始往内写的喔！这是默认值啊！

另外，原本硬盘的扇区都是设计成 512Byte 的容量，但因为近期以来硬盘的容量越来越大，
为了减少数据量的拆解，所以新的大容量硬盘已经有 4KByte 的扇区设计！ 购买的时候也需
要注意一下。也因为这个扇区的设计不同了，因此在磁盘的分区方面，目前有旧式的
MSDOS 相容模式，以及较新的 GPT 模式喔！ 在较新的 GPT 模式下，磁盘的分区通常使用
扇区号码来设计，跟过去旧的 MSDOS 是通过柱面号码来分区的情况不同喔！相关的说明我
们谈到磁盘管理 （第七章） 再来聊！

- USB接口

- 固态硬盘

传统硬盘有个很致命的问题，就是需要驱动马达去转动盘片～这会造成很严重的磁盘读取延
迟！想想看，你得要知道数据在哪个扇区上面，然后再命令马达开始转， 之后再让磁头去读
取正确的数据。另外，如果数据放置的比较离散（扇区分佈比较广又不连续），那么读写的
速度就会延迟更明显！速度快不起来。因此， 后来就有厂商拿闪存去制作成大容量的设备，
这些设备的连接接口也是通过 SATA 或 SAS，而且外型还做的跟传统磁盘一样！所以， 虽然
这类的设备已经不能称为是磁盘 （因为没有磁头与盘片啊！都是内存！）。但是为了方便大
家称呼，所以还是称为磁盘！只是跟传统磁盘 （Hard Disk Drive, HDD） 不同， 就称为固态
硬盘 （Solid State Disk 或 Solid State Driver, SSD）。

固态硬盘最大的好处是，它没有马达不需要转动，而是通过内存直接读写的特性，因此除了
没数据延迟且快速之外，还很省电！ 不过早期的 SSD 有个很重要的致命伤，就是这些闪存
有“写入次数的限制”，因此通常 SSD 的寿命大概两年就顶天了！所以数据存放时， 需要考虑
到备份或者是可能要使用 RAID 的机制来防止 SSD 的损毁！

- 选购与运行须知

如果你想要增加一颗硬盘在你的主机里头时，除了需要考虑你的主板可接受的插槽接口
（SATA/SAS）之外，还有什么要注意的呢？

- HDD 或 SSD：毕竟 HDD 与 SSD 的价格与容量真的差很多！不过，速度也差很多就是
了！因此，目前大家的使用方式大多是这样的，使用 SSD 作为系统盘， 然后数据储存大
多放置在 HDD 上面！这样系统运行快速 （SSD），而数据储存量也大 （HDD）。

- 容量：毕竟目前数据量越来越大，所以购买磁盘通常首先要考虑的就是容量的问题！目前
（2015）主流市场HDD容量已经到达 2TB以上， 甚至有的厂商已经生产高达 8TB 的产
品呢！硬盘可能可以算是一种消耗品，要注意重要数据还是得常常备份出来喔！ 至于
SSD 方面，目前的容量大概还是在 128~256GB 之间吧！

- 缓冲内存：硬盘上头含有一个缓冲内存，这个内存主要可以将硬盘内常使用的数据高速缓
存起来，以加速系统的读取性能。 通常这个缓冲内存越大越好，因为缓冲内存的速度要
比数据从硬盘盘中被找出来要快的多了！ 目前主流的产品可达64MB左右的内存大小喔。
转速 因为硬盘主要是利用主轴马达转动盘片来存取，因此转速的快慢会影响到性能。 主
流的台式机硬盘为每分钟7200转，笔记本电脑则是5400转。有的厂商也有推出高达
10000转的硬盘， 若有高性能的数据存取需求，可以考虑购买高转速硬盘。

- 运行须知：由于硬盘内部机械手臂上的磁头与硬盘盘的接触是很细微的空间， 如果有抖动
或者是脏污在磁头与硬盘盘之间就会造成数据的损毁或者是实体硬盘整个损毁～ 因此，
正确的使用电脑的方式，应该是在电脑通电之后，就绝对不要移动主机，并免抖动到硬
盘， 而导致整个硬盘数据发生问题啊！另外，也不要随便将插头拔掉就以为是顺利关
机！因为机械手臂必须要归回原位， 所以使用操作系统的正常关机方式，才能够有比较
好的硬盘保养啊！因为他会让硬盘的机械手臂归回原位啊！

# 0.3 数据表示方式

事实上我们的电脑只认识0与1，记录的数据也是只能记录0与1而已，所以电脑常用的数据是
二进制的。 但是我们人类常用的数值运算是十进制，文字方面则有非常多的语言，台湾常用
的语言就有英文、中文（又分正体与简体中文）、日文等。 那么电脑如何记录与显示这些数
值/文字呢？就得要通过一系列的转换才可以啦！下面我们就来谈谈数值与文字的编码系统
啰！

## 0.3.1 数字系统

早期的电脑使用的是利用通电与否的特性的真空管，如果通电就是1，没有通电就是0， 后来
沿用至今，我们称这种只有0/1的环境为二进制制，英文称为binary的哩。所谓的十进制指的
是逢十进一位， 因此在个位数归为零而十位数写成1。所以所谓的二进制，就是逢二就前进一
位的意思。

那二进制怎么用呢？我们先以十进制来解释好了。如果以十进制来说，3456的意义为：

3456 = 3x103 + 4x102 + 5x101 + 6x100

特别注意：“任何数值的零次方为1”所以100的结果就是1啰。 同样的，将这个原理带入二进制
的环境中，我们来解释一下1101010的数值转为十进制的话，结果如下：

$1101010=1x2^6 + 1x2^5 + 0x2^4 + 1x2^3 + 0x2^2 + 1x2^1 + 0x2^0 = 64 + 32 + 0x16 + 8 + 0x4 + 2 + 0x1 = 106$

这样你了解二进制的意义了吗？二进制是电脑基础中的基础喔！了解了二进制后，八进位、
十六进制就依此类推啦！ 那么知道二进制转成十进制后，那如果有十进制数值转为二进制的
环境时，该如何计算？ 刚刚是乘法，现在则是除法就对了！我们同样的使用十进制的106转
成二进制来测试一下好了：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/8.png)

最后的写法就如同上面的红色箭头，由最后的数字向上写，因此可得到1101010的数字啰！
这些数字的转换系统是非常重要的，因为电脑的加减乘除都是使用这些机制来处理的！ 有兴
趣的朋友可以再参考一下其他计算计概论的书籍中，关于1的补数/2的补数等运算方式喔！

## 0.3.2 文字编码系统

既然电脑都只有记录0/1而已，甚至记录的数据都是使用Byte/bit等单位来记录的，那么文字该
如何记录啊？ 事实上文字文件也是被记录为0与1而已，而这个文件的内容要被取出来查阅
时，必须要经过一个编码系统的处理才行。 所谓的“编码系统”可以想成是一个“字码对照表”，
他的概念有点像下面的图示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/9.png)

当我们要写入文件的文字数据时，该文字数据会由编码对照表将该文字转成数字后，再存入
文件当中。 同样的，当我们要将文件内容的数据读出时，也会经过编码对照表将该数字转成
对应的文字后，再显示到屏幕上。 现在你知道为何浏览器上面如果编码写错时，会出现乱码
了吗？这是因为编码对照表写错， 导致对照的文字产生误差之故啦！

常用的英文编码表为ASCII系统，这个编码系统中， 每个符号（英文、数字或符号等）都会占
用1Bytes的记录， 因此总共会有$2^8=256$种变化。至于中文字当中的编码系统早期最常用的就
是big5这个编码表了。 每个中文字会占用2Bytes，理论上最多可以有216=65536，亦即最多
可达6万多个中文字。 但是因为big5编码系统并非将所有的位都拿来运用成为对照，所以并非
可达这么多的中文字码的。 目前big5仅定义了一万三千多个中文字，很多中文利用big5是无
法成功显示的～所以才会有造字程序说。

big5码的中文字编码对于某些数据库系统来说是很有问题的，某些字码例如“许、盖、功”等
字， 由于这几个字的内部编码会被误判为单/双引号，在写入还不成问题，在读出数据的对照
表时， 常常就会变成乱码。不只中文字，其他非英语系国家也常常会有这样的问题出现啊！

为了解决这个问题，由国际组织ISO/IEC跳出来制订了所谓的Unicode编码系统， 我们常常称
呼的UTF8或万国码的编码就是这个咚咚。因为这个编码系统打破了所有国家的不同编码， 因
此目前网际网络社会大多朝向这个编码系统在走，所以各位亲爱的朋友啊，记得将你的编码
系统修订一下喔！

> 知道为什么有时候会被乱码侵扰了吧~~因为文件的存储归根结底是二进制，但是如果翻译成人类可读文本时，你用的翻译对照表和原数据编码用的对照表不一样，那就肯定会翻得乱七八糟了呀~~


# 0.4 软件程序运行

鸟哥在上课时常常会开玩笑的问：“我们知道没有插电的电脑是一堆废铁，那么插了电的电脑
是什么？” 答案是：“一堆会电人的废铁”！这是因为没有软件的运行，电脑的功能就无从发挥
之故。 就好像没有了灵魂的躯体也不过就是行尸走肉，重点在于软件/灵魂啰！所以下面咱们
就得要了解一下“软件”是什么。

一般来说，目前的电脑系统将软件分为两大类，一个是系统软件，一个是应用程序。但鸟哥
认为我们还是得要了解一下什么是程序， 尤其是机器程序，了解了之后再来探讨一下为什么
现今的电脑系统需要“操作系统”这玩意儿呢！

## 0.4.1 机器程序与编译程序

我们前面谈到电脑只认识0与1而已，而且电脑最重要的运算与逻辑判断是在CPU内部， 而
CPU其实是具有微指令集的。因此，我们需要CPU帮忙工作时，就得要参考微指令集的内
容， 然后撰写让CPU读的懂的指令码给CPU执行，这样就能够让CPU运行了。

不过这样的流程有几个很麻烦的地方，包括：

- 需要了解机器语言：机器只认识0与1，因此你必须要学习直接写给机器看的语言！ 这个
地方相当的难呢！
- 需要了解所有硬件的相关功能函数：因为你的程序必须要写给机器看， 当然你就得要参
考机器本身的功能，然后针对该功能去撰写程序码。例如，你要让DVD影片能够放映，
那就得要参考DVD光驱的硬件信息才行。万一你的系统有比较冷门的硬件，光是参考技
术手册可能会昏倒～
- 程序不具有可携性：每个CPU都有独特的微指令集，同样的，每个硬件都有其功能函
数。 因此，你为A电脑写的程序，理论上是没有办法在B电脑上面运行的！而且程序码的
修改非常困难！ 因为是机器码，并不是人类看的懂得程序语言啊！
- 程序具有专一性：因为这样的程序必须要针对硬件功能函数来撰写， 如果已经开发了一
支浏览器程序，想要再开发文件管理程序时，还是得从头再参考硬件的功能函数来继续
撰写， 每天都在和“硬件”挑战！可能需要天天喝蛮牛了！@_@

那怎么解决啊？为了解决这个问题，电脑科学家设计出一种让人类看的懂得程序语言， 然后
创造一种“编译器”来将这些人类能够写的程序语言转译成为机器能看懂得机器码， 如此一来
我们修改与撰写程序就变的容易多了！目前常见的编译器有C, C++, Java, Fortran等等。 机器
语言与高阶程序语言的差别如下所示：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/10.png)

从上面的图示我们可以看到高阶程序语言的程序码是很容易察看的！鸟哥已经将程序码（英
文）写成中文说～ 这样比较好理解啦！所以这样已经将程序的修改问题处理完毕了。 问题
是，在这样的环境下面我们还是得要考虑整体的硬件系统来设计程序喔！

举例来说，当你需要将运行的数据写入内存中，你就得要自行分配一个内存区块出来让自己
的数据能够填上去， 所以你还得要了解到内存的位址是如何定位的，啊！眼泪还是不知不觉
的流了下来... 怎么写程序这么麻烦啊！

**为了要克服硬件方面老是需要重复撰写控制码的问题，所以就有操作系统（Operating
System, OS）的出现了**！ 什么是操作系统呢？下面就来谈一谈先！

## 0.4.2 操作系统

如同前面提到的，在早期想要让电脑执行程序就得要参考一堆硬件功能函数，并且学习机器
语言才能够撰写程序。 同时每次写程序时都必须要重新改写，因为硬件与软件功能不见得都
一致之故。那如果我能够将所有的硬件都驱动， 并且提供一个发展软件的参考接口来给工程
师开发软件的话，那发展软件不就变的非常的简单了？那就是操作系统啦！

- 操作系统核心（Kernel）

操作系统（Operating System, OS）其实也是一组程序， 这组程序的重点在于管理电脑的所
有活动以及驱动系统中的所有硬件。 我们刚刚谈到电脑没有软件只是一堆废铁，那么操作系
统的功能就是让CPU可以开始判断逻辑与运算数值、 让内存可以开始载入/读出数据与程序
码、让硬盘可以开始被存取、让网卡可以开始传输数据、 让所有周边可以开始运行等等。总
之，硬件的所有动作都必须要通过这个操作系统来达成就是了。

上述的功能就是操作系统的核心（Kernel）了！你的电脑能不能做到某些事情，都与核心有
关！ 只有核心有提供的功能，你的电脑系统才能帮你完成！举例来说，你的核心并不支持
TCP/IP的网络协定， 那么无论你购买了什么样的网卡，这个核心都无法提供网络能力的！

但是单有核心我们使用者也不知道能作啥事的～因为核心主要在管控硬件与提供相关的能力
（例如存取硬盘、网络功能、CPU资源取得等）， 这些管理的动作是非常的重要的，如果使
用者能够直接使用到核心的话，万一使用者不小心将核心程序停止或破坏， 将会导致整个系
统的崩溃！因此核心程序所放置到内存当中的区块是受保护的！ 并且开机后就一直常驻在内
存当中。

> 类比一下，《哈尔的移动城堡》里面，当哈尔的城堡失去那个火精灵的时候，就成了一个毫无生机的破铜废铁，而当火精灵正常运行时，城堡就能动起来，而且城堡里面的各种设备也能正常运行了。所以，火精灵至于城堡，就像操作系统至于计算机。而所谓的核心，其实也就相当于火精灵具备的魔力了~~

Tips 所以整部系统只有核心的话，我们就只能看着已经准备好运行（Ready）的电脑系统，
但无法操作他！ 好像有点望梅止渴的那种感觉啦！这个时候就需要软件的帮忙了！

- 系统调用（System Call）

既然我的硬件都是由核心管理，那么如果我想要开发软件的话，自然就得要去参考这个核心
的相关功能！ 唔！如此一来不是从原本的参考硬件函数变成参考核心功能，还是很麻烦啊！
有没有更简单的方法啊！

为了解决这个问题，操作系统通常会提供一整组的开发接口给工程师来开发软件！ 工程师只
要遵守该开发接口那就很容易开发软件了！举例来说，我们学习C程序语言只要参考C程序语
言的函数即可， 不需要再去考虑其他核心的相关功能，因为核心的系统调用接口会主动的将
C程序语言的相关语法转成核心可以了解的任务函数， 那核心自然就能够顺利运行该程序
了！

如果我们将整个电脑系统的相关软/硬件绘制成图的话，他的关系有点像这样：

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/11.png)

电脑系统主要由硬件构成，然后核心程序主要在管理硬件，提供合理的电脑系统资源分配
（包括CPU资源、内存使用资源等等）， 因此只要硬件不同（如x86架构与RISC架构的
CPU），核心就得要进行修改才行。 而由于核心只会进行电脑系统的资源分配，所以在上头
还需要有应用程序的提供，使用者才能够操作系统的。

为了保护核心，并且让程序设计师比较容易开发软件，因此操作系统除了核心程序之外，通
常还会提供一整组开发接口(API)， 那就是系统调用层。软件开发工程师只要遵循公认的系统调用
参数来开发软件，该软件就能够在该核心上头运行。 所以你可以发现，软件与核心有比较大
的关系，与硬件关系则不大！硬件也与核心有比较大的关系！ 至于与使用者有关的，那就是
应用程序啦！

Tips 在定义上，只要能够让计算机硬件正确无误的运行，那就算是操作系统了。所以说， 操
作系统其实就是核心与其提供的接口工具，不过就如同上面讲的，因为最阳春的核心缺乏了
与使用者沟通的友好接口， 所以在目前，一般我们提到的“操作系统”都会包含核心与相关的
使用者应用软件呢！

简单的说，上面的图示可以带给我们下面的概念：

- 操作系统的核心层直接参考硬件规格写成， 所以同一个操作系统程序不能够在不一样的
硬件架构下运行。举例来说，个人电脑版的Windows 8.1 不能直接在 ARM 架构 （手机
与平板硬件） 的电脑下运行。

- 操作系统只是在管理整个硬件资源，包括CPU、内存、输入输出设备及文件系统文件。
如果没有其他的应用程序辅助，操作系统只能让电脑主机准备妥当（Ready）而已！并无
法运行其他功能。 所以你现在知道为何Windows上面要达成网页影像的运行还需要类似
PhotoImpact或Photoshop之类的软件安装了吧？

- **应用程序的开发都是参考操作系统提供的开发接口， 所以该应用程序只能在该操作系统
上面运行而已，不可以在其他操作系统上面运行的。** 现在您知道为何去购买线上游戏的
光盘时，光盘上面会明明白白的写着该软件适合用于哪一种操作系统上了吧？ 也该知道
某些游戏为何不能够在Linux上面安装了吧？

- 核心功能

既然核心主要是在负责整个电脑系统相关的资源分配与管理，那我们知道其实整部电脑系统
最重要的就是CPU与内存， 因此，核心至少也要有这些功能的：

- 系统调用接口（System call interface） 刚刚谈过了，这是为了方便程序开发者可以轻易
的通过与核心的沟通，将硬件的资源进一步的利用， 于是需要有这个简易的接口来方便
程序开发者。
- 程序管理（Process control） 总有听过所谓的“多任务环境”吧？一部电脑可能同时间有很
多的工作跑到CPU等待运算处理， 核心这个时候必须要能够控制这些工作，让CPU的资
源作有效的分配才行！另外， 良好的CPU调度机制（就是CPU先运行那个工作的排列顺
序）将会有效的加快整体系统性能呢！
- 内存管理（Memory management） 控制整个系统的内存管理，这个内存控制是非常重
要的，因为系统所有的程序码与数据都必须要先存放在内存当中。 通常核心会提供虚拟
内存的功能，当内存不足时可以提供内存交换（swap）的功能哩。
- 文件系统管理（Filesystem management） 文件系统的管理，例如数据的输入输出
（I/O）等等的工作啦！还有不同文件格式的支持啦等等， 如果你的核心不认识某个文件
系统，那么您将无法使用该文件格式的文件啰！例如：Windows 98就不认识NTFS文件
格式的硬盘；
- 设备的驱动（Device drivers） 就如同上面提到的，硬件的管理是核心的主要工作之一，
当然啰，设备的驱动程序就是核心需要做的事情啦！ 好在目前都有所谓的“可载入模
块”功能，可以将驱动程序编辑成模块，就不需要重新的编译核心啦！

Tips 事实上，驱动程序的提供应该是硬件厂商的事情！硬件厂商要推出硬件时，应该要自行
参考操作系统的驱动程序开发接口， 开发完毕后将该驱动程序连同硬件一同贩卖给使用者才
对！举例来说，当你购买显卡时， 显卡包装盒都会附上一片光盘，让你可以在进入Windows
之后进行驱动程序的安装啊！

- 操作系统与驱动程序

老实说，驱动程序可以说是操作系统里面相当重要的一环了！不过，硬件可是持续在进步当
中的！ 包括主板、显卡、硬盘等等。那么比较晚推出的较新的硬件，例如显卡，我们的操作
系统当然就不认识啰！ 那操作系统该如何驱动这块新的显卡？为了克服这个问题，操作系统
通常会提供一个开发接口给硬件开发商， 让他们可以根据这个接口设计可以驱动他们硬件
的“驱动程序”，如此一来，只要使用者安装驱动程序后， 自然就可以在他们的操作系统上面
驱动这块显卡了。

![](http://tech-blog-pictures.oss-cn-beijing.aliyuncs.com/2017/鸟叔的linux私房菜：第0章 计算机概论学习笔记/12.png)

由上图我们可以得到几个小重点：

- 操作系统必须要能够驱动硬件，如此应用程序才能够使用该硬件功能；
- 一般来说，操作系统会提供开发接口，让开发商制作他们的驱动程序；
- 要使用新硬件功能，必须要安装厂商提供的驱动程序才行；
- 驱动程序是由厂商提供的，与操作系统开发者无关。

所以，如果你想要在某个操作系统上面安装一张新的显卡，那么请要求该硬件厂商提供适当
的驱动程序吧！ ^_^！ 为什么要强调“适当的驱动程序”呢？ 因为驱动程序仍然是依据操作系
统而开发的， 所以，给Windows用的驱动程序当然不能使用于Linux的环境下了。

## 0.4.3 应用程序

应用程序是参考操作系统提供的开发接口所开发出来软件，这些软件可以让使用者操作，以
达到某些电脑的功能利用。 举例来说，办公室软件（Office）主要是用来让使用者办公用的；
影像处理软件主要是让使用者用来处理影音数据的； 浏览器软件主要是让使用者用来上网浏
览用的等等。

需要注意的是，应用程序是与操作系统有关系的，如同上面的图示当中的说明喔。因此，如
果你想要购买新软件， 请务必参考软件上面的说明，看看该软件是否能够支持你的操作系统
啊！举例来说，如果你想要购买线上游戏光盘， 务必参考一下该光盘是否支持你的操作系
统，例如是否支持Windows XP/Windows Vista/MAC/Linux等等。 不要购买了才发现该软件无
法安装在你的操作系统上喔！

我们拿常见的微软公司的产品来说明。你知道Windows 8.1, Office 2013之间的关系了吗？

- Windows 8.1 是一套操作系统，他必须先安装到个人电脑上面，否则电脑无法开机运
行；
- Windows 7 与Windows 8.1 是两套不同的操作系统，所以能在Win 7上安装的软件不见得
可在Win 8.1上安装；
- Windows 8.1安装好后，就只能拥有很少的功能，并没有办公室软件；
- Office 2013是一套应用程序，要安装前必须要了解他能在哪些操作系统上面运行。

# 0.5 重点回顾

- 计算机的定义为：“接受使用者输入指令与数据，经由中央处理器的数学与逻辑单元运算
处理后，以产生或储存成有用的信息”；
- 电脑的五大单元包括：输入单元、输出单元、控制单元、算数逻辑单元、存储单元五大
部分。其中CPU占有控制、算术逻辑单元，存储单元又包含内存与辅助内存；
- 数据会流进/流出内存是CPU所发布的控制命令，而CPU实际要处理的数据则完全来自于
内存；
- CPU依设计理念主要分为：精简指令集（RISC）与复杂指令集（CISC）系统；
- 关于CPU的频率部分：外频指的是CPU与外部元件进行数据传输时的速度，倍频则是
CPU内部用来加速工作性能的一个倍数， 两者相乘才是CPU的频率速度；
- 新的 CPU 设计中，已经将北桥的内存控制芯片整合到 CPU 内，而 CPU 与内存、显卡
沟通的总线通常称为系统总线。 南桥就是所谓的输入输出（I/O）总线，主要在联系硬
盘、USB、网卡等周边设备；
- CPU每次能够处理的数据量称为字组大小（word size），字组大小依据CPU的设计而有
32位与64位。 我们现在所称的电脑是32或64位主要是依据这个 CPU解析的字组大小而
来的！
- 个人电脑的内存主要元件为动态随机存取内存（Dynamic Random Access Memory,
DRAM）， 至于CPU内部的第二层高速缓存则使用静态随机存取内存（Static Random
Access Memory, SRAM）；
- BIOS（Basic Input Output System）是一套程序，这套程序是写死到主板上面的一个内
存芯片中， 这个内存芯片在没有通电时也能够将数据记录下来，那就是只读存储器
（Read Only Memory, ROM）；
- 目前主流的外接卡接口大多为 PCIe 接口，且最新为 PCIe 3.0，单信道速度高达
1GBytes/s
- 常见的显卡连接到屏幕的接口有 HDMI/DVI/D-Sub/Display port 等等。HDMI 可同时传送
影像与声音。
- 传统硬盘的组成为：圆形盘片、机械手臂、 磁头与主轴马达所组成的，其中盘片的组成
为扇区、磁道与柱面；
- 磁盘连接到主板的接口大多为 SATA 或 SAS，目前台式机主流为 SATA 3.0，理论极速可
达 600MBytes/s。
- 常见的文字编码为 ASCII，繁体中文编码主要有 Big5 及 UTF8 两种，目前主流为 UTF8
操作系统（Operating System, OS）其实也是一组程序， 这组程序的重点在于管理电脑
的所有活动以及驱动系统中的所有硬件。
- 电脑主要以二进制作为单位，常用的磁盘容量单位为Bytes，其单位换算为1 Byte =
8bits。
- 最阳春的操作系统仅在驱动与管理硬件，而要使用硬件时，就得需要通过应用软件或者
是壳程序（shell）的功能， 来调用操作系统操纵硬件工作。目前称为操作系统的，除了
上述功能外，通常已经包含了日常工作所需要的应用软件在内了。
